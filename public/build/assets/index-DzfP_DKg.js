import{b as A,r as o,J as U,j as e,Q as B,S as c}from"./app-0em-l9nf.js";import{H as I,F as T}from"./header-DuIs53J3.js";import{A as R,a as $,b as z}from"./user-menu-content-C6tzIaRO.js";import{B as y}from"./badge-B5eAgUox.js";import{B as d}from"./button-OP7r6CzR.js";import{C as m,a as x,b as u,c as p}from"./card-1IeE1C-u.js";import{D as H}from"./data-table-CtM9p9_S.js";import{I as O}from"./input-Ctkz0san.js";import{S as v,a as S,b,c as N,d as i}from"./select-DTEvci7B.js";import{t as _}from"./index-Bm82lDjH.js";import{S as V}from"./search-DwodgGUT.js";import"./app-Do35ztag.js";import"./index-J48vln4Q.js";import"./dialog-0bw1-jjA.js";import"./popover-DoTlq5NC.js";import"./index-DTBhoNsy.js";import"./bell-Dwbn7gU_.js";import"./calendar-BnJ_NDzo.js";import"./chevron-down-DCpmTxOJ.js";import"./bookmark-BK3-j0z9.js";import"./clock-DblDbBlk.js";import"./table-tKNUHveK.js";import"./index-BdQq_4o_.js";import"./index-UibjthJF.js";import"./check-BVa6fZTa.js";import"./chevron-up-0KVzuLsB.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],G=A("ChevronsUpDown",Q);function Ne({presales:r,stages:g,stats:n,filters:t,sort:j}){const[w,k]=o.useState(t.search||""),[C,K]=o.useState(t.status||""),[D,P]=o.useState(t.stage||""),[q,l]=o.useState(!1),{props:{errors:M}}=U(),L=s=>{k(s),l(!0),c.get(route("presales.index"),{...t,search:s,page:1},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{l(!1)},onError:()=>{l(!1),_.error("Failed to apply search filter")}})},f=(s,a)=>{const h={...t};a==="all"?delete h[s]:h[s]=a,l(!0),c.get(route("presales.index"),{...h,page:1},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{switch(l(!1),s){case"status":K(a);break;case"stage":P(a);break}},onError:()=>{l(!1),_.error("Failed to apply filter")}})},F=s=>{const a=j.field===s&&j.direction==="asc"?"desc":"asc";c.get(route("presales.index"),{...t,sort:s,direction:a,page:1},{preserveState:!0,preserveScroll:!0})},E=[{accessorKey:"name",header:"Name",enableSorting:!0,cell:({row:s})=>{const a=s.original;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(R,{className:"h-8 w-8",children:[e.jsx($,{src:a.logo_url,alt:a.name}),e.jsx(z,{children:a.token_symbol.slice(0,2)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.name}),e.jsx("div",{className:"text-muted-foreground text-sm",children:a.token_symbol})]})]})}},{accessorKey:"stage",header:"Stage",enableSorting:!0,cell:({row:s})=>{const a=s.original;return e.jsx(y,{variant:"outline",children:a.stage})}},{accessorKey:"launchpad",header:"Launchpad",enableSorting:!0,cell:({row:s})=>s.original.launchpad||"--"},{accessorKey:"status",header:"Status",enableSorting:!0,cell:({row:s})=>{const a=s.original;return e.jsx(J,{status:a.status})}},{accessorKey:"token_price",header:"Price",enableSorting:!0,cell:({row:s})=>{const a=s.original;return`${Number(a.token_price).toLocaleString()} ${a.token_price_currency}`}},{accessorKey:"upvotes_count",header:"Upvotes",enableSorting:!0,cell:({row:s})=>s.original.upvotes_count.toLocaleString()},{accessorKey:"tokens_for_sale",header:"Tokens for Sale",enableSorting:!0,cell:({row:s})=>{const a=s.original;return a.tokens_for_sale?Number(a.tokens_for_sale).toLocaleString():"--"}},{accessorKey:"fundraising_goal",header:"Fundraising Goal",enableSorting:!0,cell:({row:s})=>{const a=s.original;return a.fundraising_goal?`$${Number(a.fundraising_goal).toLocaleString()}`:"--"}},{accessorKey:"start_date",header:"Start Date",enableSorting:!0,cell:({row:s})=>{const a=s.original;return new Date(a.start_date).toLocaleDateString()}},{accessorKey:"end_date",header:"End Date",enableSorting:!0,cell:({row:s})=>{const a=s.original;return new Date(a.end_date).toLocaleDateString()}},{accessorKey:"remaining_time",header:"Remaining",enableSorting:!1,cell:({row:s})=>s.original.remaining_time}];return e.jsxs(e.Fragment,{children:[e.jsx(B,{title:"Presales"}),e.jsx(I,{}),e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8 lg:px-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Presales"}),e.jsx("p",{className:"text-muted-foreground",children:"Discover and participate in upcoming token presales"})]}),e.jsxs("div",{className:"mb-6 grid gap-4 md:grid-cols-4",children:[e.jsxs(m,{children:[e.jsx(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(u,{className:"text-sm font-medium",children:"Total Presales"})}),e.jsx(p,{children:e.jsx("div",{className:"text-2xl font-bold",children:n.total})})]}),e.jsxs(m,{children:[e.jsx(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(u,{className:"text-sm font-medium",children:"Ongoing Presales"})}),e.jsx(p,{children:e.jsx("div",{className:"text-2xl font-bold",children:n.ongoing})})]}),e.jsxs(m,{children:[e.jsx(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(u,{className:"text-sm font-medium",children:"Upcoming Presales"})}),e.jsx(p,{children:e.jsx("div",{className:"text-2xl font-bold",children:n.upcoming})})]}),e.jsxs(m,{children:[e.jsx(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:e.jsx(u,{className:"text-sm font-medium",children:"Ended Presales"})}),e.jsx(p,{children:e.jsx("div",{className:"text-2xl font-bold",children:n.ended})})]})]}),e.jsxs("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[e.jsx(O,{placeholder:"Search presales...",className:"max-w-sm",value:w,onChange:s=>L(s.target.value)}),e.jsx(d,{variant:"outline",size:"icon",children:e.jsx(V,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(v,{value:D,onValueChange:s=>f("stage",s),children:[e.jsx(S,{className:"w-[180px]",children:e.jsx(b,{placeholder:"Stage"})}),e.jsxs(N,{children:[e.jsx(i,{value:"all",children:"All Stages"}),g.map(s=>e.jsx(i,{value:s,children:s},s))]})]}),e.jsxs(v,{value:C,onValueChange:s=>f("status",s),children:[e.jsx(S,{className:"w-[180px]",children:e.jsx(b,{placeholder:"Status"})}),e.jsxs(N,{children:[e.jsx(i,{value:"all",children:"All Status"}),e.jsx(i,{value:"ongoing",children:"Ongoing"}),e.jsx(i,{value:"upcoming",children:"Upcoming"}),e.jsx(i,{value:"ended",children:"Ended"})]})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsx(H,{columns:E.map(s=>({...s,header:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:s.header}),s.enableSorting&&e.jsx(d,{variant:"ghost",onClick:a=>{a.stopPropagation(),F(s.accessorKey)},className:"hover:bg-muted h-8 w-8 p-0",children:e.jsx(G,{className:"text-muted-foreground h-4 w-4"})})]}),cell:({row:a})=>e.jsx("div",{onClick:()=>c.visit(route("presales.show",{slug:a.original.slug})),className:"cursor-pointer",children:s.cell({row:a})})})),data:r.data,pageCount:r.last_page,currentPage:r.current_page})}),e.jsxs("div",{className:"mt-4 flex items-center justify-between px-2",children:[e.jsxs("div",{className:"text-muted-foreground flex-1 text-sm",children:[r.total," ",r.total===1?"Result":"Results"]}),e.jsxs("div",{className:"flex items-center space-x-6 lg:space-x-8",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("p",{className:"text-sm font-medium",children:["Page ",r.current_page," of ",r.last_page]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{variant:"outline",size:"sm",onClick:()=>{c.get(route("presales.index"),{...t,page:r.current_page-1},{preserveState:!0,preserveScroll:!0})},disabled:r.current_page===1,children:"Previous"}),e.jsx(d,{variant:"outline",size:"sm",onClick:()=>{c.get(route("presales.index"),{...t,page:r.current_page+1},{preserveState:!0,preserveScroll:!0})},disabled:r.current_page===r.last_page,children:"Next"})]})]})]})]}),e.jsx(T,{})]})}function J({status:r}){const g={ongoing:{variant:"default",label:"Ongoing"},upcoming:{variant:"secondary",label:"Upcoming"},ended:{variant:"outline",label:"Ended"}},{variant:n,label:t}=g[r];return e.jsx(y,{variant:n,children:t})}export{Ne as default};
