import{r as t,S as y,j as e,Q as E,t as w}from"./app-0em-l9nf.js";import{H as F,F as O}from"./header-DuIs53J3.js";import{B as S}from"./badge-B5eAgUox.js";import{B as A}from"./button-OP7r6CzR.js";import{C as B,a as R}from"./card-1IeE1C-u.js";import{I as D}from"./input-Ctkz0san.js";import{S as h,a as f,b as g,c as j,d as l}from"./select-DTEvci7B.js";import{u as H}from"./useDebounce-BEK3ENti.js";import"./app-Do35ztag.js";import"./user-menu-content-C6tzIaRO.js";import"./index-DTBhoNsy.js";import"./index-J48vln4Q.js";import"./dialog-0bw1-jjA.js";import"./search-DwodgGUT.js";import"./popover-DoTlq5NC.js";import"./bell-Dwbn7gU_.js";import"./calendar-BnJ_NDzo.js";import"./chevron-down-DCpmTxOJ.js";import"./bookmark-BK3-j0z9.js";import"./clock-DblDbBlk.js";import"./index-BdQq_4o_.js";import"./index-UibjthJF.js";import"./check-BVa6fZTa.js";import"./chevron-up-0KVzuLsB.js";function Ce({auth:N,memes:n,categories:p,stats:b,filters:o}){console.log("Props received:",{auth:N,memes:n,categories:p,stats:b,filters:o});const r=typeof o=="object"&&o!==null&&!Array.isArray(o)?o:{},[v,C]=t.useState(r.search||""),m=H(v,500),[i,_]=t.useState(r.category_id||"none"),[c,M]=t.useState(r.media_type||"none"),[d,T]=t.useState(r.sort||"newest"),[L,k]=t.useState(""),[P,Q]=t.useState(""),[q,Z]=t.useState("none"),[$,z]=t.useState(null),[x,G]=t.useState(null),[J,K]=t.useState(!1),[W,X]=t.useState(""),[Y,ee]=t.useState(!1),I=Array.isArray(p)?p:[],u=n&&typeof n=="object"?n:{data:[],last_page:1,links:[]};return t.useEffect(()=>{const s=r.search||"",a=r.category_id||"none",U=r.media_type||"none",V=r.sort||"newest";(m!==s||i!==a||c!==U||d!==V)&&y.get(route("cryptocurrency-memes.index"),{search:m||null,category_id:i==="none"?null:i,media_type:c==="none"?null:c,sort:d||null},{preserveState:!0,replace:!0})},[m,i,c,d,r]),t.useEffect(()=>()=>{x&&URL.revokeObjectURL(x)},[x]),e.jsxs(e.Fragment,{children:[e.jsx(E,{title:"Cryptocurrency Memes"}),e.jsx(F,{}),e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8 lg:px-8",children:[e.jsx("div",{className:"mb-8 flex flex-col items-start justify-between gap-4 md:flex-row md:items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Cryptocurrency Memes"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Explore and share funny crypto memes and videos"})]})}),e.jsxs("div",{className:"mb-8 flex flex-col gap-4 md:flex-row",children:[e.jsx("div",{className:"flex-1",children:e.jsx(D,{placeholder:"Search memes...",value:v,onChange:s=>C(s.target.value),className:"w-full"})}),e.jsxs(h,{value:i,onValueChange:_,children:[e.jsx(f,{className:"w-full md:w-[200px]",children:e.jsx(g,{placeholder:"Category"})}),e.jsxs(j,{children:[e.jsx(l,{value:"none",children:"All Categories"}),I.map(s=>e.jsx(l,{value:String(s.id),children:s.name},s.id))]})]}),e.jsxs(h,{value:c,onValueChange:M,children:[e.jsx(f,{className:"w-full md:w-[200px]",children:e.jsx(g,{placeholder:"Media Type"})}),e.jsxs(j,{children:[e.jsx(l,{value:"none",children:"All Types"}),e.jsx(l,{value:"image",children:"Images"}),e.jsx(l,{value:"video",children:"Videos"})]})]}),e.jsxs(h,{value:d,onValueChange:T,children:[e.jsx(f,{className:"w-full md:w-[200px]",children:e.jsx(g,{placeholder:"Sort by"})}),e.jsxs(j,{children:[e.jsx(l,{value:"newest",children:"Newest First"}),e.jsx(l,{value:"oldest",children:"Oldest First"}),e.jsx(l,{value:"most_viewed",children:"Most Viewed"}),e.jsx(l,{value:"most_upvotes",children:"Most Upvoted"})]})]})]}),u.data.length>0?e.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:u.data.map(s=>e.jsxs(B,{className:"flex h-full flex-col overflow-hidden p-0 pb-6",children:[e.jsx(w,{href:route("cryptocurrency-memes.show",s.slug),children:e.jsxs("div",{className:"group relative aspect-square overflow-hidden",children:[s.media_type==="image"?e.jsx("img",{src:s.media_url,alt:s.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105"}):e.jsxs("div",{className:"relative h-full w-full",children:[e.jsx("video",{src:s.media_url,className:"h-full w-full object-cover",muted:!0,loop:!0,onMouseOver:a=>a.currentTarget.play(),onMouseOut:a=>{a.currentTarget.pause(),a.currentTarget.currentTime=0}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 transition-opacity group-hover:opacity-100",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-12 w-12 text-white opacity-70",children:e.jsx("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"})})})]}),s.is_featured&&e.jsx(S,{className:"bg-primary absolute top-2 right-2",children:"Featured"}),e.jsx(S,{className:`absolute top-2 left-2 ${s.media_type==="image"?"bg-primary":"bg-red-500"}`,children:s.media_type==="image"?"Image":"Video"})]})}),e.jsx(R,{className:"pt-6",children:e.jsx(w,{href:route("cryptocurrency-memes.show",s.slug),className:"line-clamp-2 text-lg font-semibold hover:underline",children:s.title})})]},s.id))}):e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"No memes found"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Try adjusting your search or filters"})]}),u.last_page>1&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx("div",{className:"flex gap-2",children:u.links.map((s,a)=>e.jsx(A,{variant:s.active?"default":"outline",disabled:!s.url,onClick:()=>y.get(s.url||""),dangerouslySetInnerHTML:{__html:s.label}},a))})})]}),e.jsx(O,{})]})}export{Ce as default};
