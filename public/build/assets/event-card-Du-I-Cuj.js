import{b as N,j as s,t as p}from"./app-BOrcgD8O.js";import{B as _}from"./button-D3RzP9bc.js";import{C as b}from"./card-CMmOJm5f.js";import{C as g}from"./calendar-BC2QmCUn.js";import{M as w}from"./map-pin-DGWLTmOS.js";import{c as T,t as h,m as y,a as D}from"./en-US-CdnykXPL.js";import{i as C,f as U}from"./format-Bc-aJvAO.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],I=N("UsersRound",E);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],k=N("Video",M);function z(e,t){const r=()=>T(t==null?void 0:t.in,NaN),n=F(e);let c;if(n.date){const i=Y(n.date,2);c=O(i.restDateString,i.year)}if(!c||isNaN(+c))return r();const m=+c;let o=0,l;if(n.time&&(o=S(n.time),isNaN(o)))return r();if(n.timezone){if(l=L(n.timezone),isNaN(l))return r()}else{const i=new Date(m+o),u=h(0,t==null?void 0:t.in);return u.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),u.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),u}return h(m+o+l,t==null?void 0:t.in)}const f={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},v=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,R=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$=/^([+-])(\d{2})(?::?(\d{2}))?$/;function F(e){const t={},r=e.split(f.dateTimeDelimiter);let a;if(r.length>2)return t;if(/:/.test(r[0])?a=r[0]:(t.date=r[0],a=r[1],f.timeZoneDelimiter.test(t.date)&&(t.date=e.split(f.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){const n=f.timezone.exec(a);n?(t.time=a.replace(n[1],""),t.timezone=n[1]):t.time=a}return t}function Y(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(r);if(!a)return{year:NaN,restDateString:""};const n=a[1]?parseInt(a[1]):null,c=a[2]?parseInt(a[2]):null;return{year:c===null?n:c*100,restDateString:e.slice((a[1]||a[2]).length)}}function O(e,t){if(t===null)return new Date(NaN);const r=e.match(v);if(!r)return new Date(NaN);const a=!!r[4],n=d(r[1]),c=d(r[2])-1,m=d(r[3]),o=d(r[4]),l=d(r[5])-1;if(a)return B(t,o,l)?V(t,o,l):new Date(NaN);{const i=new Date(0);return!Z(t,c,m)||!H(t,n)?new Date(NaN):(i.setUTCFullYear(t,c,Math.max(n,m)),i)}}function d(e){return e?parseInt(e):1}function S(e){const t=e.match(R);if(!t)return NaN;const r=x(t[1]),a=x(t[2]),n=x(t[3]);return P(r,a,n)?r*y+a*D+n*1e3:NaN}function x(e){return e&&parseFloat(e.replace(",","."))||0}function L(e){if(e==="Z")return 0;const t=e.match($);if(!t)return 0;const r=t[1]==="+"?-1:1,a=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return q(a,n)?r*(a*y+n*D):NaN}function V(e,t,r){const a=new Date(0);a.setUTCFullYear(e,0,4);const n=a.getUTCDay()||7,c=(t-1)*7+r+1-n;return a.setUTCDate(a.getUTCDate()+c),a}const W=[31,null,31,30,31,30,31,31,30,31,30,31];function j(e){return e%400===0||e%4===0&&e%100!==0}function Z(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(W[t]||(j(e)?29:28))}function H(e,t){return t>=1&&t<=(j(e)?366:365)}function B(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function P(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function q(e,t){return t>=0&&t<=59}function te({event:e,showOrganizer:t=!1}){var o;const r=(l,i)=>{if(!l)return"Date unavailable";try{const u=z(l);return C(u)?U(u,i):"Date unavailable"}catch(u){return console.error("Error formatting date:",u),"Date unavailable"}},a=()=>typeof e.current_participants!="number"?"No participants yet":e.max_participants?`${e.current_participants} / ${e.max_participants} participants`:`${e.current_participants} participants registered`,n=l=>{switch(l){case"crypto_event":return"Crypto Event";case"web3_event":return"Web3 Event";case"community_event":return"Community Event";case"ai_event":return"AI Event";default:return l}},c=l=>{switch(l){case"upcoming":return"text-green-600";case"ongoing":return"text-primary";case"completed":return"text-gray-600";case"cancelled":return"text-red-600";default:return"text-gray-600"}},m=()=>e.banner_url?e.banner_url:e.banner_image?e.banner_image:"";return s.jsxs(b,{className:"overflow-hidden p-0",children:[s.jsx(p,{href:route("events.show",e.slug),children:e.banner_url||e.banner_image?s.jsx("img",{src:m(),alt:e.title||"Event banner",className:"aspect-[16/9] object-cover"}):s.jsx("div",{className:"flex h-48 w-full items-center justify-center bg-gray-100",children:s.jsx(g,{className:"h-12 w-12 text-gray-400"})})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:e.type?n(e.type):"Event"}),e.status&&s.jsx("span",{className:`text-sm font-medium capitalize ${c(e.status)}`,children:e.status})]}),s.jsx(p,{href:route("events.show",e.slug),className:"hover:text-primary mb-2 block text-xl font-semibold transition-colors",children:e.title||"Untitled Event"}),s.jsx("div",{className:"text-muted-foreground mb-4 line-clamp-2 text-sm",dangerouslySetInnerHTML:{__html:e.description||"No description available"}}),t&&((o=e.organizer)==null?void 0:o.name)&&s.jsxs("p",{className:"text-muted-foreground mb-4 text-sm",children:["Organized by ",s.jsx("span",{className:"font-medium",children:e.organizer.name})]}),s.jsxs("div",{className:"text-muted-foreground space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(g,{className:"h-4 w-4"}),s.jsx("span",{children:r(e.start_date,"MMM d, yyyy h:mm a")})]}),s.jsx("div",{className:"flex items-center gap-2",children:e.is_virtual?s.jsxs(s.Fragment,{children:[s.jsx(k,{className:"h-4 w-4"}),s.jsx("span",{children:"Virtual Event"})]}):s.jsxs(s.Fragment,{children:[s.jsx(w,{className:"h-4 w-4"}),s.jsx("span",{children:e.location||"Location not specified"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(I,{className:"h-4 w-4"}),s.jsx("span",{children:a()})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(_,{className:"w-full",variant:e.registration_status==="open"?"default":"secondary",disabled:e.registration_status!=="open",asChild:!0,children:s.jsx(p,{href:route("events.show",e.slug),children:e.registration_status==="open"?"Register Now":e.registration_status==="full"?"Event Full":"Registration Closed"})})})]})]})}export{te as E,I as U,k as V,z as p};
