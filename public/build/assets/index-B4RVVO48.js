import{r as l,j as e,Q as F,t as P,S as c,a as Q}from"./app-0em-l9nf.js";import{H as $,F as q}from"./header-DuIs53J3.js";import{A as D,a as R,b as I}from"./user-menu-content-C6tzIaRO.js";import{B as o}from"./badge-B5eAgUox.js";import{B as j}from"./button-OP7r6CzR.js";import{D as L}from"./data-table-CtM9p9_S.js";import{I as O}from"./input-Ctkz0san.js";import{S as b,a as y,b as N,c as S,d as h}from"./select-DTEvci7B.js";import{t as w}from"./index-Bm82lDjH.js";import{S as z}from"./search-DwodgGUT.js";import{C as H}from"./chevron-left-wAT0XghQ.js";import{C as M}from"./chevron-right-BFpf-LOY.js";import{T as V}from"./thumbs-up-DGo4b2Zx.js";import"./app-Do35ztag.js";import"./index-J48vln4Q.js";import"./dialog-0bw1-jjA.js";import"./popover-DoTlq5NC.js";import"./index-DTBhoNsy.js";import"./bell-Dwbn7gU_.js";import"./calendar-BnJ_NDzo.js";import"./chevron-down-DCpmTxOJ.js";import"./bookmark-BK3-j0z9.js";import"./clock-DblDbBlk.js";import"./table-tKNUHveK.js";import"./index-BdQq_4o_.js";import"./index-UibjthJF.js";import"./check-BVa6fZTa.js";import"./chevron-up-0KVzuLsB.js";function Se({airdrops:s,filters:d,stats:g,blockchains:_}){const[n,k]=l.useState(d.status||"all"),[m,C]=l.useState(d.search||""),[f,A]=l.useState({}),[T,v]=l.useState({});l.useState(()=>{const t={};s.data.forEach(r=>{t[r.id]=r.upvotes_count}),v(t)});const B=t=>{c.visit(`/airdrops/${t.slug}`)},K=async(t,r)=>{if(t.stopPropagation(),!f[r])try{const a=await Q.post(`/api/airdrops/${r}/upvote`);A(i=>({...i,[r]:!0})),v(i=>({...i,[r]:a.data.upvotes_count})),w.success("Airdrop upvoted successfully!")}catch(a){console.error("Error upvoting airdrop",a),w.error("You need to be logged in to upvote")}},u=t=>{k(t),c.get("/airdrops",{status:t},{preserveState:!0})},U=t=>{t.key==="Enter"&&c.get("/airdrops",{search:m,status:n},{preserveState:!0})},E=[{accessorKey:"name",header:"Name",cell:({row:t})=>{const r=t.original;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(D,{className:"h-10 w-10 rounded-full border",children:[e.jsx(R,{src:r.logo_url??void 0,alt:r.name}),e.jsx(I,{className:"bg-primary/10 text-primary font-bold",children:r.token_symbol.slice(0,2)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:r.name}),e.jsxs("div",{className:"text-muted-foreground text-xs",children:["(",r.token_symbol,")"]})]}),r.is_featured&&e.jsx(o,{className:"ml-1 border border-red-200 bg-red-100 font-semibold text-red-800",children:"Featured"})]})},enableSorting:!0},{accessorKey:"type",header:"Type",cell:({row:t})=>e.jsx("div",{className:"text-center font-medium",children:"Token"}),enableSorting:!0},{accessorKey:"upvotes_count",header:"Upvotes",cell:({row:t})=>{const r=t.original,a=f[r.id],i=T[r.id]||r.upvotes_count;return e.jsx("div",{className:"flex items-center justify-center",onClick:x=>x.stopPropagation(),children:e.jsxs("button",{className:`flex items-center rounded-full bg-red-50 px-3 py-1 font-medium text-red-700 transition-colors ${a?"bg-red-100":"hover:bg-red-100"}`,onClick:x=>K(x,r.id),disabled:a,children:[e.jsx(V,{className:`mr-1.5 h-4 w-4 ${a?"fill-red-600 text-red-600":"text-red-500"}`}),i]})})},enableSorting:!0},{accessorKey:"winners_count",header:"Winners",cell:({row:t})=>{var a;const r=t.original;return e.jsx("div",{className:"text-center font-medium",children:((a=r.winners_count)==null?void 0:a.toLocaleString())||"TBA"})},enableSorting:!0},{accessorKey:"airdrop_qty",header:"Qty",cell:({row:t})=>{const r=t.original;return e.jsx("div",{className:"text-center font-medium",children:r.airdrop_qty?Number(r.airdrop_qty).toLocaleString():"TBA"})},enableSorting:!0},{accessorKey:"time_remaining",header:"Ends In",cell:({row:t})=>{const r=t.original;return e.jsx("div",{className:"text-center",children:r.status==="ongoing"?e.jsx(o,{className:"bg-green-100 font-medium text-green-800",children:r.time_remaining}):r.status==="ended"?e.jsx(o,{className:"bg-red-100 font-medium text-red-800",children:"Ended"}):e.jsx("div",{className:"font-medium",children:r.time_remaining})})},enableSorting:!0},{accessorKey:"tasks_count",header:"No. of Task",cell:({row:t})=>{const r=t.original;return e.jsx("div",{className:"text-center font-medium",children:r.tasks_count||0})},enableSorting:!0},{accessorKey:"status",header:"Status",cell:({row:t})=>e.jsx("div",{className:"flex justify-center",children:e.jsx(W,{status:t.original.status})}),enableSorting:!0}];return e.jsxs(e.Fragment,{children:[e.jsxs(F,{children:[e.jsx("title",{children:"Airdrops | CoinMews"}),e.jsx("meta",{name:"description",content:"Discover the latest cryptocurrency airdrops, track their requirements, and never miss an opportunity."})]}),e.jsx($,{}),e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-4 lg:px-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Crypto Ongoing Airdrop"}),e.jsx("p",{className:"text-muted-foreground",children:"Find the newest coin airdrops. Stay informed about the best airdrops and claim free tokens."})]}),e.jsx("div",{className:"relative mb-6 overflow-hidden rounded-lg",children:e.jsx(P,{href:"https://example.com",className:"group block w-full",children:e.jsx("img",{src:"https://dummyimage.com/1200x300/dbdbdb/000000.png",alt:"Crypto Bonus",className:"h-32 w-full bg-black object-cover opacity-90 md:h-40"})})}),e.jsxs("div",{className:"mb-4 flex space-x-2 overflow-x-auto pb-2",children:[e.jsx(p,{active:n==="all",onClick:()=>u("all"),children:"All Airdrops"}),e.jsx(p,{active:n==="ongoing",onClick:()=>u("ongoing"),children:"Ongoing Airdrop"}),e.jsx(p,{active:n==="upcoming",onClick:()=>u("upcoming"),children:"Upcoming Airdrop"}),e.jsx(p,{active:n==="potential",onClick:()=>u("potential"),children:"Potential Airdrop"})]}),e.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[e.jsxs("div",{className:"relative min-w-[200px] flex-1",children:[e.jsx(z,{className:"text-muted-foreground absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2"}),e.jsx(O,{placeholder:"Search By Keyword...",className:"pl-9",value:m,onChange:t=>C(t.target.value),onKeyDown:U})]}),e.jsxs(b,{children:[e.jsx(y,{children:e.jsx(N,{placeholder:"Airdrop Type"})}),e.jsxs(S,{children:[e.jsx(h,{value:"token",children:"Token"}),e.jsx(h,{value:"nft",children:"NFT"})]})]}),e.jsxs(b,{children:[e.jsx(y,{children:e.jsx(N,{placeholder:"Select Platform"})}),e.jsx(S,{children:_.map(t=>e.jsx(h,{value:t,children:t},t))})]})]}),e.jsxs("div",{children:[e.jsx(L,{columns:E,data:s.data,pageCount:Math.ceil(s.total/s.per_page),currentPage:s.current_page,onRowClick:B}),s.total>s.per_page&&e.jsxs("div",{className:"bg-muted/20 flex items-center justify-between border-t px-4 py-2",children:[e.jsxs("div",{className:"text-muted-foreground text-sm",children:["Showing ",e.jsx("span",{className:"font-medium",children:s.data.length})," of"," ",e.jsx("span",{className:"font-medium",children:s.total})," airdrops"]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(j,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",disabled:s.current_page===1,onClick:()=>c.get("/airdrops",{page:s.current_page-1,status:n!=="all"?n:void 0,search:m||void 0},{preserveState:!0}),children:e.jsx(H,{className:"h-4 w-4"})}),e.jsxs("span",{className:"px-3 text-sm",children:["Page ",s.current_page]}),e.jsx(j,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",disabled:s.current_page*s.per_page>=s.total,onClick:()=>c.get("/airdrops",{page:s.current_page+1,status:n!=="all"?n:void 0,search:m||void 0},{preserveState:!0}),children:e.jsx(M,{className:"h-4 w-4"})})]})]})]})]}),e.jsx(q,{})]})}function W({status:s}){return s==="ongoing"?e.jsx(o,{className:"rounded-full bg-green-500 px-3 py-0.5 text-white hover:bg-green-600",children:"Ongoing"}):s==="ended"?e.jsx(o,{className:"rounded-full bg-red-500 px-3 py-0.5 text-white hover:bg-red-600",children:"Ended"}):s==="upcoming"?e.jsx(o,{className:"rounded-full bg-primary px-3 py-0.5 text-primary-foreground hover:bg-primary/90",children:"Upcoming"}):e.jsx(o,{variant:"outline",className:"rounded-full px-3 py-0.5",children:s.charAt(0).toUpperCase()+s.slice(1)})}function p({active:s,onClick:d,children:g}){return e.jsx("button",{onClick:d,className:`rounded-full px-4 py-2 font-medium whitespace-nowrap transition-colors ${s?"bg-yellow-500 text-black":"bg-secondary/80 text-muted-foreground hover:bg-secondary"}`,children:g})}export{Se as default};
